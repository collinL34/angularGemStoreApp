<section ng-controller='PanelController as panel'>
    <ul class="nav nav-pills">
        <!-- ajaxyy directive that adds the class -->
        <li ng-class="{ active: panel.isSelected(1) }">
            <!-- activates active class when clicked -->
            <a href ng-click="panel.selectTab(1)">description</a>
        </li>
        <li ng-class="{ active: panel.isSelected(2) }">
            <a href ng-click='panel.selectTab(2)'>specifictions</a>
        </li>
        <li ng-class='{ active: panel.isSelected(3) }'>
            <a href ng-click="panel.selectTab(3)">reviews</a>
        </li>
    </ul>
    <!-- data to show when on this tab using directive functions from panelcontroller -->
    <div class='panel' ng-show='panel.isSelected(1)'>
        <h4>Description</h4>
        <p> {{ product.description }} </p>
    </div>
    <div class='panel' ng-show='panel.isSelected(2)'>
        <h4>specifications</h4>
        <blockquote>None Yet</blockquote>
    </div>
    <div class='panel' ng-show='panel.isSelected(3)'>
        <h4>Reviews</h4>
        <blockquote ng-repeat='review in product.reviews'>
            <b>Stars: {{review.stars}}</b>
            <b>{{review.body}}</b>
            <cite>{{review.author}}</cite>
        </blockquote>
        <form class="form-horizontal" name='reviewForm' ng-controller='ReviewController as reviewCtrl' ng-submit='reviewForm.$valid && reviewCtrl.addReview(product)' novalidate>
            <div class='review-form'>
                <blockquote>
                    <b>Stars: {{reviewCtrl.review.stars}}</b>
                    <b>{{reviewCtrl.review.body}}</b>
                    <cite>{{reviewCtrl.review.author}}</cite>
                </blockquote>
                <select ng-model='reviewCtrl.review.stars' multiple class="form-control" required>
                    <option value='1'>1 star</option>
                    <option value='2'>2 star</option>
                    <option value='3'>3 star</option>
                    <option value='4'>4 star</option>
                    <option value='5'>5 star</option>
                </select>
                <div class="form-group">
                    <label for="inputEmail3" class="col-sm-2 control-label">Email</label>
                    <div class="col-sm-10">
                        <input ng-model='reviewCtrl.review.author' type="email" class="form-control .ng-invalid.ng-dirty" id="inputEmail3" placeholder="Email" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputPassword3" class="col-sm-2 control-label">body</label>
                    <div class="col-sm-10">
                        <input ng-model='reviewCtrl.review.body' type="text" class="form-control" id="inputPassword3" placeholder="review" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <div class="checkbox">
                            <label>
                                <input ng-model='reviewCtrl.review.terms' type="checkbox" required> Remember me
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <div> reviewForm is {{reviewForm.$valid}}</div>
                        <button ng-click='reviewCtrl.review.addReview(product)' type="submit" class="btn btn-danger">Review</button>
                    </div>
                </div>
            </div>
        </form>
</section>
